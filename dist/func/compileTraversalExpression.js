"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compileTraversalExpression=l;const a=require("./components/ensureArrayFromRef"),i=require("./components/objectValuesFromRef"),c=require("./components/arrayValuesFromRef"),r=require("./withLet");function l(t,u){return(0,r.withLet)(t,o=>{let e=(0,a.ensureArrayFromRef)(o);for(const s of u)e=(0,r.withLet)(e,n=>({$reduce:{input:n,initialValue:[],in:{$let:{vars:{current:"$$this"},in:{$concatArrays:["$$value",s==="object"?(0,i.objectValuesFromRef)("$$current"):(0,c.arrayValuesFromRef)("$$current")]}}}}}));return e})}
